2025-11-21 10:47:09,389 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-21 10:47:09,396 - app - INFO - All required tables exist ✓
2025-11-21 10:47:09,397 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-21 10:47:09,397 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-21 10:47:09,397 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-21 10:47:09,398 - app - INFO - Column accuracy already exists
2025-11-21 10:47:09,398 - app - INFO - Column route already exists
2025-11-21 10:47:09,398 - app - INFO - Column route_info already exists
2025-11-21 10:47:09,399 - app - INFO - Column check completed
2025-11-21 10:47:09,399 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-21 10:47:09,399 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-21 10:47:09,399 - app - INFO - Checking for name fields in users table...
2025-11-21 10:47:09,399 - app - INFO - ✓ All name fields already exist in users table
2025-11-21 10:47:09,792 - app - DEBUG - Client connected: zjomVb6yMSJRbpq_AAAB
2025-11-21 10:47:09,815 - app - DEBUG - User 2 joined room: user_2
2025-11-21 10:47:10,508 - app - DEBUG - Client disconnected: zjomVb6yMSJRbpq_AAAB
2025-11-21 10:47:11,926 - app - DEBUG - Client connected: vkjcPNxEK9Xv0DkcAAAD
2025-11-21 10:47:11,936 - app - DEBUG - User 2 joined room: user_2
2025-11-21 10:50:56,149 - app - DEBUG - Client disconnected: vkjcPNxEK9Xv0DkcAAAD
2025-11-21 10:50:57,560 - app - DEBUG - Client connected: iuEQYBMaXviwtruwAAAF
2025-11-21 10:50:57,563 - app - DEBUG - User 2 joined room: user_2
2025-11-21 10:53:29,831 - app - DEBUG - Client disconnected: iuEQYBMaXviwtruwAAAF
2025-11-21 10:53:31,204 - app - DEBUG - Client connected: T7vvhO0lAGTErI48AAAH
2025-11-21 10:53:31,207 - app - DEBUG - User 2 joined room: user_2
2025-11-21 10:56:02,271 - app - DEBUG - Client disconnected: T7vvhO0lAGTErI48AAAH
2025-11-21 10:56:03,636 - app - DEBUG - Client connected: RtAuA1t3debxlQ4zAAAJ
2025-11-21 10:56:03,639 - app - DEBUG - User 2 joined room: user_2
2025-11-21 10:56:25,627 - app - DEBUG - Client disconnected: RtAuA1t3debxlQ4zAAAJ
2025-11-21 10:56:26,788 - app - DEBUG - Client connected: 2p7aBi5K_gWf5dhqAAAL
2025-11-21 10:56:26,792 - app - DEBUG - User 2 joined room: user_2
2025-11-21 10:58:00,940 - app - DEBUG - Client disconnected: 2p7aBi5K_gWf5dhqAAAL
2025-11-21 10:58:02,362 - app - DEBUG - Client connected: nLYb2r-sbNbl93QuAAAN
2025-11-21 10:58:02,366 - app - DEBUG - User 2 joined room: user_2
2025-11-21 11:01:08,429 - app - DEBUG - Client disconnected: nLYb2r-sbNbl93QuAAAN
2025-11-21 11:01:10,035 - app - DEBUG - Client connected: oRKMdfS1bZIBEy_HAAAP
2025-11-21 11:01:10,038 - app - DEBUG - User 2 joined room: user_2
2025-11-26 16:45:10,769 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-26 16:45:10,769 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-26 16:45:10,887 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-26 16:45:10,888 - app - INFO - Models imported successfully
2025-11-26 16:45:10,888 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-26 16:45:10,888 - app - INFO - Database file exists: True
2025-11-26 16:45:10,888 - app - INFO - Database file size: 73728 bytes
2025-11-26 16:45:10,903 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-26 16:45:10,904 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-26 16:45:10,904 - app - INFO - All required tables exist ✓
2025-11-26 16:45:10,905 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-26 16:45:10,905 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-26 16:45:10,906 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-26 16:45:10,906 - app - INFO - Column accuracy already exists
2025-11-26 16:45:10,906 - app - INFO - Column route already exists
2025-11-26 16:45:10,906 - app - INFO - Column route_info already exists
2025-11-26 16:45:10,907 - app - INFO - Column check completed
2025-11-26 16:45:10,907 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-26 16:45:10,907 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-26 16:45:10,907 - app - INFO - Checking for name fields in users table...
2025-11-26 16:45:10,908 - app - INFO - ✓ All name fields already exist in users table
2025-11-26 16:45:13,830 - app - DEBUG - Client connected: NyWxt95nGmCf6tYUAAAB
2025-11-26 16:45:14,276 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 16:45:14,277 - app - DEBUG - Sent vehicle positions to client: NyWxt95nGmCf6tYUAAAB
2025-11-26 17:12:33,325 - app - DEBUG - Client disconnected: NyWxt95nGmCf6tYUAAAB
2025-11-26 17:12:34,567 - app - DEBUG - Client connected: kCpFU11SUzgv-QH8AAAD
2025-11-26 17:12:34,659 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:12:34,662 - app - DEBUG - Sent vehicle positions to client: kCpFU11SUzgv-QH8AAAD
2025-11-26 17:12:41,383 - app - DEBUG - Client disconnected: kCpFU11SUzgv-QH8AAAD
2025-11-26 17:12:43,069 - app - DEBUG - Client connected: ShO_xbZFQrT56-x2AAAF
2025-11-26 17:12:43,194 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:12:43,195 - app - DEBUG - Sent vehicle positions to client: ShO_xbZFQrT56-x2AAAF
2025-11-26 17:12:57,541 - app - DEBUG - Client disconnected: ShO_xbZFQrT56-x2AAAF
2025-11-26 17:13:03,508 - app - DEBUG - Client connected: zNLIZ4dAFEb7u8aOAAAH
2025-11-26 17:13:03,544 - app - DEBUG - User 2 joined room: user_2
2025-11-26 17:13:30,604 - app - DEBUG - Client disconnected: zNLIZ4dAFEb7u8aOAAAH
2025-11-26 17:13:32,899 - app - DEBUG - Client connected: kpAEy8KXuu_7r-KNAAAJ
2025-11-26 17:13:33,031 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:13:33,032 - app - DEBUG - Sent vehicle positions to client: kpAEy8KXuu_7r-KNAAAJ
2025-11-26 17:13:52,218 - app - DEBUG - Client disconnected: kpAEy8KXuu_7r-KNAAAJ
2025-11-26 17:16:40,371 - app - DEBUG - Client connected: 2vNWrOdxVBR_xKcRAAAL
2025-11-26 17:16:40,375 - app - DEBUG - User 2 joined room: user_2
2025-11-26 17:22:05,737 - app - DEBUG - Client disconnected: 2vNWrOdxVBR_xKcRAAAL
2025-11-26 17:22:07,270 - app - DEBUG - Client connected: fmDnBZZEX_k-Tc3lAAAN
2025-11-26 17:22:07,282 - app - DEBUG - User 2 joined room: user_2
2025-11-26 17:23:16,700 - app - DEBUG - Client disconnected: fmDnBZZEX_k-Tc3lAAAN
2025-11-26 17:23:19,594 - app - DEBUG - Client connected: AsW3RQC9XsTahm-5AAAP
2025-11-26 17:23:19,779 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:23:19,784 - app - DEBUG - Sent vehicle positions to client: AsW3RQC9XsTahm-5AAAP
2025-11-26 17:23:32,764 - app - DEBUG - Client disconnected: AsW3RQC9XsTahm-5AAAP
2025-11-26 17:23:34,302 - app - DEBUG - Client connected: MJjXFBtFg5A4wV66AAAR
2025-11-26 17:23:34,392 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:23:34,392 - app - DEBUG - Sent vehicle positions to client: MJjXFBtFg5A4wV66AAAR
2025-11-26 17:24:54,838 - app - DEBUG - Client disconnected: MJjXFBtFg5A4wV66AAAR
2025-11-26 17:25:21,347 - app - DEBUG - Client connected: L0gw-gHVJt3DJrn1AAAT
2025-11-26 17:25:21,576 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:25:21,577 - app - DEBUG - Sent vehicle positions to client: L0gw-gHVJt3DJrn1AAAT
2025-11-26 17:29:19,864 - app - DEBUG - Client disconnected: L0gw-gHVJt3DJrn1AAAT
2025-11-26 17:29:22,097 - app - DEBUG - Client connected: rFt_eFSLFoBO2DVAAAAV
2025-11-26 17:29:22,359 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:29:22,359 - app - DEBUG - Sent vehicle positions to client: rFt_eFSLFoBO2DVAAAAV
2025-11-26 17:32:09,589 - app - DEBUG - Client disconnected: rFt_eFSLFoBO2DVAAAAV
2025-11-26 17:33:24,303 - app - DEBUG - Client connected: V1hC9hyhEeDni4GBAAAY
2025-11-26 17:33:24,314 - app - DEBUG - User 2 joined room: user_2
2025-11-26 17:33:35,414 - app - DEBUG - Client disconnected: V1hC9hyhEeDni4GBAAAY
2025-11-26 17:33:37,823 - app - DEBUG - Client connected: ydfNdACfJF-gLj4-AAAa
2025-11-26 17:33:37,954 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-26 17:33:37,956 - app - DEBUG - Sent vehicle positions to client: ydfNdACfJF-gLj4-AAAa
2025-11-26 17:43:22,009 - app - DEBUG - Client disconnected: ydfNdACfJF-gLj4-AAAa
2025-11-26 17:43:24,674 - app - DEBUG - Client connected: zOugCjD_asS4WwugAAAc
2025-11-26 17:43:24,766 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
