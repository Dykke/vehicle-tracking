2025-11-02 20:45:31,161 - app - DEBUG - Client connected: PmlIJMbgtrai7yZxAAAn
2025-11-02 20:45:31,166 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:45:31,469 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:45:31,470 - app - DEBUG - Sent vehicle positions to client: PmlIJMbgtrai7yZxAAAn
2025-11-02 20:46:04,554 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-02 20:46:04,554 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-02 20:46:04,611 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-02 20:46:04,612 - app - INFO - Models imported successfully
2025-11-02 20:46:04,612 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-02 20:46:04,613 - app - INFO - Database file exists: True
2025-11-02 20:46:04,613 - app - INFO - Database file size: 73728 bytes
2025-11-02 20:46:04,614 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:46:04,614 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-02 20:46:04,615 - app - INFO - All required tables exist ✓
2025-11-02 20:46:04,615 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:46:04,615 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-02 20:46:04,616 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:46:04,616 - app - INFO - Column accuracy already exists
2025-11-02 20:46:04,616 - app - INFO - Column route already exists
2025-11-02 20:46:04,616 - app - INFO - Column route_info already exists
2025-11-02 20:46:04,616 - app - INFO - Column check completed
2025-11-02 20:46:04,616 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:46:04,616 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-02 20:46:04,617 - app - INFO - Checking for name fields in users table...
2025-11-02 20:46:04,617 - app - INFO - ✓ All name fields already exist in users table
2025-11-02 20:46:05,025 - app - DEBUG - Client connected: R3JArn5hPRYJQcrLAAAB
2025-11-02 20:46:05,051 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:46:05,054 - app - DEBUG - Client connected: hILkQg3ML-njJDAEAAAD
2025-11-02 20:46:05,055 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:46:05,098 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:46:05,099 - app - DEBUG - Sent vehicle positions to client: R3JArn5hPRYJQcrLAAAB
2025-11-02 20:46:07,464 - app - DEBUG - Client disconnected: hILkQg3ML-njJDAEAAAD
2025-11-02 20:46:07,464 - app - DEBUG - Client disconnected: R3JArn5hPRYJQcrLAAAB
2025-11-02 20:46:08,305 - app - DEBUG - Client connected: xNfm2JOQfAGVSzbSAAAG
2025-11-02 20:46:08,307 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:46:08,586 - app - DEBUG - Client connected: E918TdpcOU0aXHmjAAAH
2025-11-02 20:46:08,589 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:46:08,912 - app - DEBUG - Sent vehicle positions to client: E918TdpcOU0aXHmjAAAH
2025-11-02 20:46:10,181 - app - DEBUG - Client disconnected: E918TdpcOU0aXHmjAAAH
2025-11-02 20:46:10,182 - app - DEBUG - Client disconnected: xNfm2JOQfAGVSzbSAAAG
2025-11-02 20:46:11,822 - app - DEBUG - Client connected: H8Lpz8hp9fRqIZyOAAAJ
2025-11-02 20:46:11,824 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:46:12,663 - app - DEBUG - Client connected: uRo3EF3YOlSLqRRUAAAL
2025-11-02 20:46:12,666 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:46:12,671 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:46:12,671 - app - DEBUG - Sent vehicle positions to client: uRo3EF3YOlSLqRRUAAAL
2025-11-02 20:47:59,374 - app - DEBUG - Client disconnected: uRo3EF3YOlSLqRRUAAAL
2025-11-02 20:47:59,375 - app - DEBUG - Client disconnected: H8Lpz8hp9fRqIZyOAAAJ
2025-11-02 20:48:00,397 - app - DEBUG - Client connected: Nuz3T8C1w9HDcoF4AAAN
2025-11-02 20:48:00,398 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:48:00,752 - app - DEBUG - Client connected: lfSJUR9ROnuIijVxAAAP
2025-11-02 20:48:00,755 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:48:01,372 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:48:01,372 - app - DEBUG - Sent vehicle positions to client: lfSJUR9ROnuIijVxAAAP
2025-11-02 20:50:03,926 - app - DEBUG - Client disconnected: Nuz3T8C1w9HDcoF4AAAN
2025-11-02 20:50:03,927 - app - DEBUG - Client disconnected: lfSJUR9ROnuIijVxAAAP
2025-11-02 20:50:06,196 - app - DEBUG - Client connected: yF388dwA-grf1c07AAAS
2025-11-02 20:50:06,197 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:50:06,226 - app - DEBUG - Client connected: nFYUmrzE3PUruslvAAAT
2025-11-02 20:50:06,232 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:50:06,533 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:50:06,534 - app - DEBUG - Sent vehicle positions to client: nFYUmrzE3PUruslvAAAT
2025-11-02 20:50:32,938 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-02 20:50:32,939 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-02 20:50:32,995 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-02 20:50:32,995 - app - INFO - Models imported successfully
2025-11-02 20:50:32,995 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-02 20:50:32,996 - app - INFO - Database file exists: True
2025-11-02 20:50:32,996 - app - INFO - Database file size: 73728 bytes
2025-11-02 20:50:32,998 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:50:32,998 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-02 20:50:32,998 - app - INFO - All required tables exist ✓
2025-11-02 20:50:32,998 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:50:32,998 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-02 20:50:32,999 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:50:32,999 - app - INFO - Column accuracy already exists
2025-11-02 20:50:32,999 - app - INFO - Column route already exists
2025-11-02 20:50:32,999 - app - INFO - Column route_info already exists
2025-11-02 20:50:32,999 - app - INFO - Column check completed
2025-11-02 20:50:32,999 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:50:33,000 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-02 20:50:33,000 - app - INFO - Checking for name fields in users table...
2025-11-02 20:50:33,000 - app - INFO - ✓ All name fields already exist in users table
2025-11-02 20:50:33,503 - app - DEBUG - Client connected: pvdp4Deps2wbacQ7AAAB
2025-11-02 20:50:33,529 - app - DEBUG - Client connected: rMJrww6IlCIds9iTAAAD
2025-11-02 20:50:33,530 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:50:33,532 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:50:33,577 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:50:33,578 - app - DEBUG - Sent vehicle positions to client: pvdp4Deps2wbacQ7AAAB
2025-11-02 20:50:36,834 - app - DEBUG - Client disconnected: rMJrww6IlCIds9iTAAAD
2025-11-02 20:50:36,834 - app - DEBUG - Client disconnected: pvdp4Deps2wbacQ7AAAB
2025-11-02 20:50:38,106 - app - DEBUG - Client connected: qbyCuNudn3uhDZDyAAAF
2025-11-02 20:50:38,107 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:50:39,080 - app - DEBUG - Client connected: xSRDk4WeL9PYP-6MAAAH
2025-11-02 20:50:39,085 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:50:39,097 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:50:39,097 - app - DEBUG - Sent vehicle positions to client: xSRDk4WeL9PYP-6MAAAH
2025-11-02 20:52:52,879 - app - DEBUG - Client disconnected: xSRDk4WeL9PYP-6MAAAH
2025-11-02 20:52:52,880 - app - DEBUG - Client disconnected: qbyCuNudn3uhDZDyAAAF
2025-11-02 20:52:54,343 - app - DEBUG - Client connected: 1Ph13i3XkVxoQK__AAAJ
2025-11-02 20:52:54,348 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:52:55,233 - app - DEBUG - Client connected: qc44zPc16mzR4kU4AAAL
2025-11-02 20:52:55,235 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:52:55,606 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:52:55,606 - app - DEBUG - Sent vehicle positions to client: qc44zPc16mzR4kU4AAAL
