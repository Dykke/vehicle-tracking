2025-11-02 20:32:31,066 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-02 20:32:31,068 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-02 20:32:31,141 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-02 20:32:31,141 - app - INFO - Models imported successfully
2025-11-02 20:32:31,141 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-02 20:32:31,142 - app - INFO - Database file exists: True
2025-11-02 20:32:31,142 - app - INFO - Database file size: 73728 bytes
2025-11-02 20:32:31,152 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:32:31,153 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-02 20:32:31,153 - app - INFO - All required tables exist ✓
2025-11-02 20:32:31,153 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:32:31,154 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-02 20:32:31,154 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:32:31,154 - app - INFO - Column accuracy already exists
2025-11-02 20:32:31,154 - app - INFO - Column route already exists
2025-11-02 20:32:31,154 - app - INFO - Column route_info already exists
2025-11-02 20:32:31,154 - app - INFO - Column check completed
2025-11-02 20:32:31,155 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:32:31,155 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-02 20:32:31,155 - app - INFO - Checking for name fields in users table...
2025-11-02 20:32:31,155 - app - INFO - ✓ All name fields already exist in users table
2025-11-02 20:32:35,106 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-02 20:32:35,106 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-02 20:32:35,159 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-02 20:32:35,160 - app - INFO - Models imported successfully
2025-11-02 20:32:35,160 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-02 20:32:35,160 - app - INFO - Database file exists: True
2025-11-02 20:32:35,160 - app - INFO - Database file size: 73728 bytes
2025-11-02 20:32:35,162 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:32:35,162 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-02 20:32:35,162 - app - INFO - All required tables exist ✓
2025-11-02 20:32:35,162 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-02 20:32:35,162 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-02 20:32:35,163 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:32:35,163 - app - INFO - Column accuracy already exists
2025-11-02 20:32:35,163 - app - INFO - Column route already exists
2025-11-02 20:32:35,163 - app - INFO - Column route_info already exists
2025-11-02 20:32:35,163 - app - INFO - Column check completed
2025-11-02 20:32:35,163 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-02 20:32:35,163 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-02 20:32:35,164 - app - INFO - Checking for name fields in users table...
2025-11-02 20:32:35,164 - app - INFO - ✓ All name fields already exist in users table
2025-11-02 20:32:47,082 - app - DEBUG - Client connected: LV1dt3u_hvW_P-1hAAAB
2025-11-02 20:32:47,341 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:32:47,341 - app - DEBUG - Sent vehicle positions to client: LV1dt3u_hvW_P-1hAAAB
2025-11-02 20:32:52,941 - app - DEBUG - Client disconnected: LV1dt3u_hvW_P-1hAAAB
2025-11-02 20:33:23,204 - app - DEBUG - Client connected: tJZAgCJujygptEH4AAAE
2025-11-02 20:33:23,206 - app - DEBUG - User 2 joined room: user_2
2025-11-02 20:33:23,210 - app - DEBUG - Client connected: rxoqjFXL6X-N2IXUAAAF
2025-11-02 20:33:23,212 - app - DEBUG - User 2 joined room: user_2
2025-11-02 20:33:25,573 - app - DEBUG - Client disconnected: rxoqjFXL6X-N2IXUAAAF
2025-11-02 20:33:25,573 - app - DEBUG - Client disconnected: tJZAgCJujygptEH4AAAE
2025-11-02 20:33:27,780 - app - DEBUG - Client connected: PKrpZZPVFI3ne0trAAAH
2025-11-02 20:33:27,781 - app - DEBUG - User 2 joined room: user_2
2025-11-02 20:33:29,976 - app - DEBUG - Client disconnected: PKrpZZPVFI3ne0trAAAH
2025-11-02 20:33:31,568 - app - DEBUG - Client connected: BYs8OqBfga2WcUnRAAAJ
2025-11-02 20:33:31,576 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:33:31,577 - app - DEBUG - Sent vehicle positions to client: BYs8OqBfga2WcUnRAAAJ
2025-11-02 20:34:01,935 - app - DEBUG - Client disconnected: BYs8OqBfga2WcUnRAAAJ
2025-11-02 20:34:06,557 - app - DEBUG - Client connected: XttmJuMJ2qR7C1V9AAAL
2025-11-02 20:34:06,559 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:34:13,202 - app - DEBUG - Client disconnected: XttmJuMJ2qR7C1V9AAAL
2025-11-02 20:34:14,501 - app - DEBUG - Client connected: ixJOwMYD8HKg9YENAAAN
2025-11-02 20:34:14,502 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:34:20,144 - app - DEBUG - Client disconnected: ixJOwMYD8HKg9YENAAAN
2025-11-02 20:34:21,416 - app - DEBUG - Client connected: 9XsL76UohgJ-pkU6AAAP
2025-11-02 20:34:21,417 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:34:59,514 - app - DEBUG - Client disconnected: 9XsL76UohgJ-pkU6AAAP
2025-11-02 20:35:00,812 - app - DEBUG - Client connected: U23F4PTY_Hv51HjAAAAS
2025-11-02 20:35:00,814 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:35:00,923 - app - DEBUG - Client connected: _CbXcS6d8k8_kpvWAAAT
2025-11-02 20:35:00,927 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:35:01,243 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:35:01,243 - app - DEBUG - Sent vehicle positions to client: _CbXcS6d8k8_kpvWAAAT
2025-11-02 20:38:52,204 - app - DEBUG - Client disconnected: _CbXcS6d8k8_kpvWAAAT
2025-11-02 20:38:52,205 - app - DEBUG - Client disconnected: U23F4PTY_Hv51HjAAAAS
2025-11-02 20:38:53,215 - app - DEBUG - Client connected: nRLHf6oAkcnWPZo7AAAW
2025-11-02 20:38:53,217 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:38:53,263 - app - DEBUG - Client connected: A2b8kOZ7qPlk0FJkAAAX
2025-11-02 20:38:53,266 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:38:53,497 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:38:53,498 - app - DEBUG - Sent vehicle positions to client: nRLHf6oAkcnWPZo7AAAW
2025-11-02 20:39:06,123 - app - DEBUG - Client disconnected: A2b8kOZ7qPlk0FJkAAAX
2025-11-02 20:39:06,123 - app - DEBUG - Client disconnected: nRLHf6oAkcnWPZo7AAAW
2025-11-02 20:39:08,034 - app - DEBUG - Client connected: 7dP9ysu0Ki-JiRcQAAAZ
2025-11-02 20:39:08,035 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:39:08,463 - app - DEBUG - Client connected: Kb1L8RyM6YdxhFpiAAAb
2025-11-02 20:39:08,464 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:39:08,688 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:39:08,689 - app - DEBUG - Sent vehicle positions to client: Kb1L8RyM6YdxhFpiAAAb
2025-11-02 20:45:15,232 - app - DEBUG - Client disconnected: 7dP9ysu0Ki-JiRcQAAAZ
2025-11-02 20:45:15,233 - app - DEBUG - Client disconnected: Kb1L8RyM6YdxhFpiAAAb
2025-11-02 20:45:21,903 - app - DEBUG - Client connected: P1Uj8WM99X0tBzeGAAAe
2025-11-02 20:45:21,904 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:45:21,953 - app - DEBUG - Client connected: L0-lHX-cjzEvN-TwAAAf
2025-11-02 20:45:21,955 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:45:23,136 - app - DEBUG - Client connected: VoK4ZAaHIgKiUlemAAAi
2025-11-02 20:45:23,138 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:45:23,150 - app - DEBUG - Client connected: QauqHxargr0dlYp8AAAj
2025-11-02 20:45:23,152 - app - DEBUG - User 1 joined room: user_1
2025-11-02 20:45:23,158 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-02 20:45:23,158 - app - DEBUG - Sent vehicle positions to client: QauqHxargr0dlYp8AAAj
2025-11-02 20:45:28,912 - app - DEBUG - Client disconnected: VoK4ZAaHIgKiUlemAAAi
2025-11-02 20:45:28,913 - app - DEBUG - Client disconnected: QauqHxargr0dlYp8AAAj
2025-11-02 20:45:31,135 - app - DEBUG - Client connected: q_rxijOhwg-ZMzEkAAAm
2025-11-02 20:45:31,137 - app - DEBUG - User 1 joined room: user_1
