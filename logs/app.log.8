2025-11-13 13:35:35,744 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 13:35:35,752 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-13 13:35:35,752 - app - INFO - All required tables exist ✓
2025-11-13 13:35:35,753 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 13:35:35,753 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-13 13:35:35,753 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 13:35:35,754 - app - INFO - Column accuracy already exists
2025-11-13 13:35:35,754 - app - INFO - Column route already exists
2025-11-13 13:35:35,754 - app - INFO - Column route_info already exists
2025-11-13 13:35:35,754 - app - INFO - Column check completed
2025-11-13 13:35:35,755 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 13:35:35,755 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-13 13:35:35,755 - app - INFO - Checking for name fields in users table...
2025-11-13 13:35:35,755 - app - INFO - ✓ All name fields already exist in users table
2025-11-13 13:36:01,099 - app - DEBUG - Client connected: cTPmNqhhk5lVhk1yAAAB
2025-11-13 13:36:01,118 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-13 13:36:01,120 - app - DEBUG - Sent vehicle positions to client: cTPmNqhhk5lVhk1yAAAB
2025-11-13 13:36:02,414 - app - DEBUG - Client disconnected: cTPmNqhhk5lVhk1yAAAB
2025-11-13 13:36:08,110 - app - DEBUG - Client connected: ubXyDJ9hVwW0k-14AAAD
2025-11-13 13:36:08,126 - app - DEBUG - User 2 joined room: user_2
2025-11-13 13:36:12,397 - app - DEBUG - Client disconnected: ubXyDJ9hVwW0k-14AAAD
2025-11-13 13:36:13,186 - app - DEBUG - Client connected: 9bsFM4FrNgUY0-3ZAAAF
2025-11-13 13:36:13,202 - app - DEBUG - Vehicle positions cache updated with 1 vehicles
2025-11-13 13:36:13,203 - app - DEBUG - Sent vehicle positions to client: 9bsFM4FrNgUY0-3ZAAAF
2025-11-13 13:38:26,595 - app - DEBUG - Client disconnected: 9bsFM4FrNgUY0-3ZAAAF
2025-11-13 14:29:16,975 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-13 14:29:16,976 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-13 14:29:17,044 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-13 14:29:17,045 - app - INFO - Models imported successfully
2025-11-13 14:29:17,045 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-13 14:29:17,046 - app - INFO - Database file exists: True
2025-11-13 14:29:17,046 - app - INFO - Database file size: 73728 bytes
2025-11-13 14:29:17,048 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 14:29:17,048 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-13 14:29:17,048 - app - INFO - All required tables exist ✓
2025-11-13 14:29:17,049 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 14:29:17,049 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-13 14:29:17,050 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 14:29:17,051 - app - INFO - Column accuracy already exists
2025-11-13 14:29:17,051 - app - INFO - Column route already exists
2025-11-13 14:29:17,051 - app - INFO - Column route_info already exists
2025-11-13 14:29:17,051 - app - INFO - Column check completed
2025-11-13 14:29:17,051 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 14:29:17,051 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-13 14:29:17,051 - app - INFO - Checking for name fields in users table...
2025-11-13 14:29:17,052 - app - INFO - ✓ All name fields already exist in users table
2025-11-13 14:36:10,113 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-13 14:36:10,113 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-13 14:36:10,181 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-13 14:36:10,182 - app - INFO - Models imported successfully
2025-11-13 14:36:10,182 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-13 14:36:10,182 - app - INFO - Database file exists: True
2025-11-13 14:36:10,182 - app - INFO - Database file size: 73728 bytes
2025-11-13 14:36:10,184 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 14:36:10,184 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-13 14:36:10,184 - app - INFO - All required tables exist ✓
2025-11-13 14:36:10,185 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 14:36:10,185 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-13 14:36:10,185 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 14:36:10,185 - app - INFO - Column accuracy already exists
2025-11-13 14:36:10,186 - app - INFO - Column route already exists
2025-11-13 14:36:10,186 - app - INFO - Column route_info already exists
2025-11-13 14:36:10,186 - app - INFO - Column check completed
2025-11-13 14:36:10,186 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 14:36:10,186 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
2025-11-13 14:36:10,186 - app - INFO - Checking for name fields in users table...
2025-11-13 14:36:10,187 - app - INFO - ✓ All name fields already exist in users table
2025-11-13 14:51:19,960 - app - INFO - Flask app using database: sqlite:///app.db
2025-11-13 14:51:19,960 - app - INFO - Database directory exists: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring
2025-11-13 14:51:20,026 - app - INFO - BYPASSING migrations and using safe table creation...
2025-11-13 14:51:20,027 - app - INFO - Models imported successfully
2025-11-13 14:51:20,027 - app - INFO - Database file path: C:\Users\veesa\OneDrive\Documents\GitHub\drive-monitoring\drive-monitoring\app.db
2025-11-13 14:51:20,028 - app - INFO - Database file exists: True
2025-11-13 14:51:20,028 - app - INFO - Database file size: 73728 bytes
2025-11-13 14:51:20,029 - app - INFO - Existing tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 14:51:20,029 - app - INFO - Database exists with data, skipping table creation to preserve data
2025-11-13 14:51:20,030 - app - INFO - All required tables exist ✓
2025-11-13 14:51:20,030 - app - INFO - Final tables: ['driver_action_logs', 'location_logs', 'notification_settings', 'notifications', 'operator_action_logs', 'passenger_events', 'trips', 'users', 'vehicles']
2025-11-13 14:51:20,030 - app - INFO - Ensuring required columns exist in vehicles table...
2025-11-13 14:51:20,031 - app - INFO - Existing columns in vehicles table: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 14:51:20,031 - app - INFO - Column accuracy already exists
2025-11-13 14:51:20,031 - app - INFO - Column route already exists
2025-11-13 14:51:20,031 - app - INFO - Column route_info already exists
2025-11-13 14:51:20,032 - app - INFO - Column check completed
2025-11-13 14:51:20,032 - app - INFO - VERIFICATION - Vehicle columns after setup: ['id', 'registration_number', 'vehicle_type', 'capacity', 'status', 'created_at', 'occupancy_status', 'last_speed_kmh', 'current_latitude', 'current_longitude', 'last_updated', 'accuracy', 'route', 'route_info', 'owner_id', 'assigned_driver_id']
2025-11-13 14:51:20,032 - app - INFO - ALL REQUIRED COLUMNS VERIFIED ✓
